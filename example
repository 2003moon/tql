DEFINE SensorCollection​ sensor_collection1, sensor_collection2;

DEFINE ObservationCollection ​observation_collection1, observation_collection2;

sensor_collection1 =
SELECT *
FROM​ Sensor, Infrastructure
WHERE​ Sensor.Location ​IN​ Infrastructure.locations A​ND​ Infrastructure.floor=2;

sensor_collection2 =
SELECT *
FROM​ sensor_collection1 sen, WHERE​ sen.Type.name = “WiFi AP”;

observation_collection1 = SENSORS_TO_OBSERVATIONS(​sensor_collection2​);

SELECT *
FROM ​observation_collection2 obs2, User user WHERE ​user.Platform.id = obs2.Payload.platfromId;